version: 2
contracts:
- filesystem:
    directory: .
  provides:
  - baseUrl: http://order-bff:8080
    specs:
    - product_search_bff_v5.yaml
  consumes:
  - port: 9090
    specs:
    - proxy_generated.yaml
  - port: 9092
    specs:
    - kafka.yaml
  - port: 8095
    specs:
    - inventory.wsdl
proxy:
  port: 9090
  targetUrl: http://order-api:8090
  consumes:
  - proxy_recordings.yaml
report:
  types:
    APICoverage:
      OpenAPI:
        successCriteria:
          minThresholdPercentage: 70
          maxMissedEndpointsInSpec: 0
          enforce: true
